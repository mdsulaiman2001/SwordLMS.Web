@model SwordLMS.Web.Models.User


@{
    ViewData["Title"] = "Registration Page";

}

@*<h1>Sign Up</h1>

<hr />
<div class="row">
    <div class="col-md-4">
        <form asp-action="SaveSignUp">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>*@

<section class="vh-150 gradient-custom">
    <div class="container py-5 h-100">
        <div class="row justify-content-center align-items-center h-100">
            <div class="col-12 col-lg-9 col-xl-7">
                <div class="card bg-dark text-white" style="border-radius: 15px;">
                    <div class="card-body p-4 p-md-5">
                        <h3 class="mb-4 pb-2 pb-md-0 mb-md-5">Registration Form</h3>
                        <form asp-action="SaveSignUp">
                            <div asp-validation-summary="ModelOnly"></div>

                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label asp-for="FirstName" class="form-label" for="firstName">First Name</label>
                                        <input asp-for="FirstName" type="text" id="firstName" class="form-control form-control-lg" />
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label asp-for="LastName" class="form-label" for="LastName">Last Name</label>
                                        <input asp-for="LastName" type="text" id="LasttName" class="form-control form-control-lg" />
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label asp-for="DateOfBirth" class="form-label" for="DateOfBirth">Date Of Birth</label>
                                        <input asp-for="DateOfBirth" type="text" class="form-control form-control-lg" id="datepicker" />
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label asp-for="PhoneNumber" class="form-label" for="phoneNumber">Phone Number</label>
                                        <input asp-for="PhoneNumber" type="text" id="phoneNumber" class="form-control form-control-lg" />
                                        <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>

                            @* <div class="form-group">
                            <label asp-for="DateOfBirth" class="control-label"></label>
                            <input type="text" class="form-control" id="datepicker" />
                            </div*@

                            <div class="row">
                                <div class="col-12">
                                    <div class="form-outline">
                                        <label asp-for="Email" class="form-label" for="email">Email Address</label>
                                        <input asp-for="Email" type="text" id="email" class="form-control form-control-lg" />
                                        <span asp-validation-for="Email" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>


                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label asp-for="UserName" class="form-label" for="userName">User Name</label>
                                        <input asp-for="UserName" type="text" id="userName" class="form-control form-control-lg" />
                                        <span asp-validation-for="UserName" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label asp-for="Password" class="form-label" for="exampleInputPassword1">Password</label>
                                        <input asp-for="Password" type="password" class="form-control form-control-lg" id="exampleInputPassword1">
                                    </div>
                                </div>
                            </div>

                            @* <div class="e-input-group">
                            <label asp-for="Password" class="form-label" for="password">Password</label>
                            <input asp-for="Password" type="text" id="password" class="form-control form-control-lg" />
                            <span asp-validation-for="Password" class="text-danger"></span>
                            </div>*@

                            <div class="row">
                                <div class="col-12">
                                    <div class="form-outline">
                                        <label asp-for="Address" class="form-label" for="address">Address</label>
                                        <input asp-for="Address" type="text" id="address" class="form-control form-control-lg" />
                                        <span asp-validation-for="Address" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>


                            @*<div class="form-group">
                            <label asp-for="Country" class="control-label"></label>
                            <select asp-for="Country" id="ddlCountry" class="from-control" asp-items="ViewBag.countries"></select>
                            </div>

                            <div class="form-group">
                            <label asp-for="State" class="control-label"></label>
                            <div id="divState">  <select asp-for="State" id="ddlState"  class="from-control"></select></div>
                            </div>

                            <div class="form-group">
                            <label asp-for="City" class="control-label"></label>
                            <div id="divCity"><select asp-for="City" id="ddlCity"  class="from-control"></select></div>
                            </div>*@


                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-outline">
                                        <label asp-for="Pincode" class="form-label" for="pincode">Pincode</label>
                                        <input asp-for="Pincode" type="text" id="pincode" class="form-control form-control-lg" />
                                        <span asp-validation-for="Pincode" class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-6 mb-4">

                                    <div class="form-outline">
                                        <label class="form-label">Are You Author</label>

                                        <input type="checkbox" id="IsAuthor" name="IsAuthor">


                                        <div hidden>
                                            <select asp-for="RoleId" name="ddlRole" id="ddlRole">
                                                <option value="3" selected>Student</option>
                                                <option value="2">Author</option>
                                            </select>

                                        </div>
                                    </div>
                                </div>
                            </div>

                            @*    <div class="from-group">
                            <label class="control-label  ">Are You Author</label>
                            <input type="checkbox" id="IsAuthor" name="IsAuthor">

                            <div hidden>
                            <select asp-for="RoleId" name="ddlRole" id="ddlRole">
                            <option value="3" selected>Student</option>
                            <option value="2">Author</option>
                            </select>
                            </div>
                            </div>*@

                            @*<div class="row">
                            <div class="col-md-2 mb-4">
                            <div class="form-outline">
                            <input type="submit" value="Create" class="btn btn-danger" />
                            </div>
                            </div>

                            <div class="col-md-10 mb-4">
                            <div class="form-outline">
                            <div>Have already an account?</div>
                            <div> <a asp-action="Login" class="btn btn-dark">Login</a></div>
                            </div>
                            </div>
                            </div>*@

                            <div class="d-flex justify-content-center">
                                <input type="submit" value="Register" class="btn btn-success btn-block btn-lg gradient-custom-4 text-body">
                            </div>

                            <p class="text-center text-muted mt-5 mb-0" style="color: #fff!important;">Have already an account? <a asp-action="Login" class="fw-bold text-body" style="color: #fff!important;"><u>Login here</u></a></p>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>




<script>
    $(function () {
        $("#datepicker").datepicker();
    });
</script>


<script type="text/javascript">
    $(document).ready(function () {

        $("#IsAuthor").change(function () {

            if ($('#IsAuthor').is(":checked")) {
                $("#ddlRole").val("2");
            }
            else {
                $("#ddlRole").val("3");
            }
        });

        $('#ddlCountry').change(function () {
            $.ajax({

                type: "post",
                url: "/User/GetStates",
                data: { Id: $('#ddlCountry').val() },
                datatype: "json",
                traditional: true,
                success: function (data) {
                    var State = "<select id='ddlState' onchange='LoadCities();'> ";
                    State = State + '<option value="">--Select--</option>';
                    for (var i = 0; i < data.length; i++) {
                        State = State + '<option value=' + data[i].id + '>' + data[i].name + '</option>';
                    }
                    State = State + '</select>';
                    $('#divState').html(State);

                }
            });
        });

        $("#ddlState").bind("change", LoadCities());
        function LoadCities() {

            $.ajax({

                type: "post",
                url: "/User/GetCities",
                data: { Id: $('#ddlState').val() },
                datatype: "json",
                traditional: true,
                success: function (data) {
                    var City = "<select id='ddlCity'>";
                    City = City + '<option value="">--Select--</option>';
                    for (var i = 0; i < data.length; i++) {
                        City = City + '<option value=' + data[i].id + '>' + data[i].Name + '</option>';
                    }
                    City = City + '</select>';
                    $('#divCity').html(City);
                }
            });
        }

        $('#ddlState').change(function () {
            $.ajax({
                type: "post",
                url: "/User/GetCities",
                data: { Id: $('#ddlState').val() },
                datatype: "json",
                traditional: true,
                success: function (data) {
                    var City = "<select id='ddlCity'>";
                    City = City + '<option value="">--Select--</option>';
                    for (var i = 0; i < data.length; i++) {
                        City = City + '<option value=' + data[i].id + '>' + data[i].name + '</option>';
                    }
                    City = City + '</select>';
                    $('#divCity').html(City);
                }
            });
        });
    });
</script>


